# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure

runConfig:
  env:
    # Bind the env var FIREBASE_SERVICE_ACCOUNT_KEY to the Secret Manager secret
    - variable: FIREBASE_SERVICE_ACCOUNT_KEY
      secret: FIREBASE_SERVICE_ACCOUNT_KEY
      availability:
        - BUILD
        - RUNTIME
    - variable: SENDGRID_API_KEY
      secret: SENDGRID_API_KEY
    - variable: SENDGRID_FROM_EMAIL
      value: "orders@bakedbot.ai"
    - variable: SENDGRID_FROM_NAME
      value: "BakedBot Orders"
    - variable: RECAPTCHA_SECRET_KEY
      secret: RECAPTCHA_SECRET_KEY
    - variable: CANNMENUS_API_BASE
      value: "https://api.cannmenus.com"
    - variable: CANNMENUS_API_KEY
      secret: CANNMENUS_API_KEY
    - variable: AUTHNET_API_LOGIN_ID
      secret: AUTHNET_API_LOGIN_ID
    - variable: AUTHNET_TRANSACTION_KEY
      secret: AUTHNET_TRANSACTION_KEY
    - variable: AUTHNET_ENV
      value: "sandbox" # Use "production" for live
    - variable: NEXT_PUBLIC_AUTHNET_CLIENT_KEY
      secret: NEXT_PUBLIC_AUTHNET_CLIENT_KEY
    - variable: NEXT_PUBLIC_AUTHNET_API_LOGIN_ID
      secret: AUTHNET_API_LOGIN_ID
    # App Check needs the public key to be an env var
    - variable: NEXT_PUBLIC_RECAPTCHA_SITE_KEY
      secret: NEXT_PUBLIC_RECAPTCHA_SITE_KEY
    - variable: CLAUDE_API_KEY
      secret: CLAUDE_API_KEY

# Serve all traffic from the Next.js backend.
# This is a sensible default for most web apps.
# For more advanced configurations, see the documentation.
# https://firebase.google.com/docs/app-hosting/configure-backend
# rewrites:
#   - source: /.*
#     destination: /_next/server/server.js
