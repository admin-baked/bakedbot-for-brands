# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure

runConfig:
  # The RECAPTCHA_SECRET_KEY is needed both as a secret for some GCP services
  # and as a standard environment variable for the Firebase Admin SDK to initialize App Check.
  env:
    - variable: FIREBASE_SERVICE_ACCOUNT_KEY
      secret: FIREBASE_SERVICE_ACCOUNT_KEY
    - variable: SENDGRID_API_KEY
      secret: SENDGRID_API_KEY
    - variable: SENDGRID_FROM_EMAIL
      value: "orders@bakedbot.ai"
    - variable: SENDGRID_FROM_NAME
      value: "BakedBot Orders"
    - variable: RECAPTCHA_SECRET_KEY
      secret: RECAPTCHA_SECRET_KEY
    - variable: CANNMENUS_API_BASE
      value: "https://api.cannmenus.com"
    - variable: CANNMENUS_API_KEY
      secret: CANNMENUS_API_KEY

rewrites:
  - source: /api/health
    function: health

  - source: /api/cannmenus/brands
    function: brands

  - source: /api/cannmenus/retailers
    function: retailers

  - source: /api/cannmenus/products
    function: products
